model User {
  id               String           @id @default(uuid()) @db.Uuid
  googleId         String?          @unique
  email            String           @unique
  name             String?
  phone            String?
  password         String?
  role             ROLE             @default(STUDENT)
  isTermsAccepted  Boolean          @default(false)
  classId          String?          @db.Uuid
  isVerified       Boolean          @default(false)
  registrationType REGISTRATIONTYPE
  syllabusId       String?          @db.Uuid
  isActive         Boolean          @default(true)
  createdAt        DateTime         @default(now())
  updatedAt        DateTime         @updatedAt
  otp              OTP[]
  refreshToken     RefreshToken[]
  class            Class?           @relation(fields: [classId], references: [id])
  syllabus         Syllabus?        @relation(fields: [syllabusId], references: [id])

  studentSubscription StudentSubscription[]

  @@index([email])
  @@index([googleId])
  @@map("users")
}

enum ROLE {
  INSTRUCTOR
  STUDENT
  ADMIN
}

enum REGISTRATIONTYPE {
  SSO
  DEFAULT
}
